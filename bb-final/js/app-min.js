const math={lerp:(t,s,a)=>(1-a)*t+a*s};class Cursor{constructor(){this.el=document.querySelector("[data-cursor]"),this.stickies=[...document.querySelectorAll("[data-stick-cursor]")],this.data={mouse:{x:0,y:0},current:{x:0,y:0},last:{x:0,y:0},ease:.15,dist:100,fx:{diff:0,acc:0,velo:0,scale:0}},this.bounds={h:0,a:0},this.rAF=null,this.targets=null,this.run=this.run.bind(this),this.mousePos=this.mousePos.bind(this),this.stick=this.stick.bind(this),this.state={stick:!1},this.init()}mousePos(t){this.data.mouse.x=t.pageX,this.data.mouse.y=t.pageY,this.data.current.x=t.pageX,this.data.current.y=t.pageY}getCache(){this.targets=[],this.stickies.forEach(((t,s)=>{const a=t.getBoundingClientRect();this.targets.push({el:t,x:a.left+a.width/2,y:a.top+a.height/2})}))}stick(t){const s={x:t.x-this.data.mouse.x,y:t.y-this.data.mouse.y},a=Math.atan2(s.x,s.y),i=Math.sqrt(s.x*s.x+s.y*s.y);i<this.data.dist&&!this.state.stick?(this.state.stick=!0,this.data.ease=.075,this.data.current.x=t.x-Math.sin(a)*i/2.5,this.data.current.y=t.y-Math.cos(a)*i/2.5,this.el.classList.add("is-active")):this.state.stick?(this.state.stick=!1,this.data.ease=.15):i>this.data.dist&&this.el.classList.remove("is-active")}run(){this.targets.forEach(this.stick),this.data.last.x=math.lerp(this.data.last.x,this.data.current.x,this.data.ease),this.data.last.y=math.lerp(this.data.last.y,this.data.current.y,this.data.ease),this.data.fx.diff=this.data.current.x-this.data.last.x,this.data.fx.acc=this.data.fx.diff/window.innerWidth,this.data.fx.velo=+this.data.fx.acc,this.data.fx.scale=1-Math.abs(5*this.data.fx.velo),this.el.style.transform=`translate3d(${this.data.last.x}px, ${this.data.last.y}px, 0) scale(${this.data.fx.scale})`,this.raf()}raf(){this.rAF=requestAnimationFrame(this.run)}addListeners(){window.addEventListener("mousemove",this.mousePos,{passive:!0})}init(){this.getCache(),this.addListeners(),this.raf()}}const cursor=new Cursor;var DepartureBoard=function(t,e){e=e||{},this._element=t,this._letters=[],t.className+=" departure-board";for(var o,n,i=e.rowCount||1,a=e.letterCount||25,s=0;s<i;s++){this._letters.push([]),(n=document.createElement("div")).className="row",t.appendChild(n);for(var r=0;r<a;r++)o=new DepartureBoard.Letter,this._letters[s].push(o),n.appendChild(o.getElement())}};DepartureBoard.LETTERS=" ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789.,':()&!?+-",DepartureBoard.prototype.spin=function(){for(var t=this,e=0,o=this._letters.length;e<o;e++)!function(e){window.setTimeout((function(){t._letters[e].spin()}),20*e+400*Math.random())}(e)},DepartureBoard.prototype.setValue=function(t){t instanceof Array||(t=[t]);for(var e=this,o=0,n=this._letters.length;o<n;o++){t[o]=t[o]?t[o].toUpperCase():"";for(var i=0,a=this._letters[o].length;i<a;i++)!function(o,n){window.setTimeout((function(){var i=t[o].substr(n,1)||"";e._letters[o][n].setValue(i)}),2e3*o+25*n+400*Math.random())}(o,i)}},DepartureBoard.Letter=function(){this._element=document.createElement("span"),this._element.className="letter",this._bottom=document.createElement("span"),this._bottom.className="flap bottom",this._element.appendChild(this._bottom),this._bottomText=document.createElement("span"),this._bottomText.className="text",this._bottom.appendChild(this._bottomText),this._top=document.createElement("span"),this._top.className="flap top",this._element.appendChild(this._top),this._topText=document.createElement("span"),this._topText.className="text",this._top.appendChild(this._topText),this._fold=document.createElement("span"),this._fold.className="fold",this._element.appendChild(this._fold),this._falling=document.createElement("span"),this._falling.className="flap falling",this._fold.appendChild(this._falling),this._fallingText=document.createElement("span"),this._fallingText.className="text",this._fallingText.style.WebkitTransitionDuration=this._fallingText.style.MozTransitionDuration=this._fallingText.style.OTransitionDuration=this._fallingText.style.transitionDuration=.5*DepartureBoard.Letter.DROP_TIME+"ms",this._falling.appendChild(this._fallingText),this._index=0,this._interval=null,this._stopAt=null},DepartureBoard.Letter.DROP_TIME=100,DepartureBoard.Letter.prototype.getElement=function(){return this._element},DepartureBoard.Letter.prototype.spin=function(t){!1!==t&&(this._stopAt=null);var e=this;this._interval=window.setInterval((function(){e._tick()}),.9*DepartureBoard.Letter.DROP_TIME)},DepartureBoard.Letter.prototype.setValue=function(t){this._stopAt=DepartureBoard.LETTERS.indexOf(t),this._stopAt<0&&(this._stopAt=0),this._interval||this._index==this._stopAt||this.spin(!1)},DepartureBoard.Letter.prototype._tick=function(){var t,e=this,o=DepartureBoard.LETTERS.charAt(this._index),n=this._falling.style,i=this._fallingText.style;this._index=(this._index+1)%DepartureBoard.LETTERS.length,t=DepartureBoard.LETTERS.charAt(this._index),this._fallingText.innerHTML=o,n.display="block",this._topText.innerHTML=t,window.setTimeout((function(){i.WebkitTransitionTimingFunction=i.MozTransitionTimingFunction=i.OTransitionTimingFunction=i.transitionTimingFunction="ease-in",i.WebkitTransform=i.MozTransform=i.OTransform=i.transform="scaleY(0)"}),1),window.setTimeout((function(){e._fallingText.innerHTML=t,n.top="-.03em",n.bottom="auto",i.top="-.65em",i.WebkitTransitionTimingFunction=i.MozTransitionTimingFunction=i.OTransitionTimingFunction=i.transitionTimingFunction="ease-out",i.WebkitTransform=i.MozTransform=i.OTransform=i.transform="scaleY(1)"}),DepartureBoard.Letter.DROP_TIME/2),window.setTimeout((function(){e._bottomText.innerHTML=t,n.display="none",n.top="auto",n.bottom=0,i.top=0}),DepartureBoard.Letter.DROP_TIME),this._index===this._stopAt&&(clearInterval(this._interval),delete this._interval)};var board=new DepartureBoard(document.getElementById("test"),{rowCount:1,letterCount:17});const airportLoop=function(){board.setValue(["HUB"]),window.setTimeout((function(){board.setValue("intercambiador"),window.setTimeout((function(){board.setValue("punto de conexion"),window.setTimeout((function(){board.setValue(["HUB"]),window.setTimeout((function(){board.setValue(["intercambiador"]),window.setTimeout((function(){board.setValue(["punto de conexion"]),window.setTimeout((function(){board.setValue(["hub"]),window.setTimeout((function(){board.setValue(["intercambiador"]),window.setTimeout((function(){board.setValue(["punto de conexion"]),window.setTimeout((function(){board.setValue(["hub"]),window.setTimeout((function(){board.setValue(["intercambiador"]),window.setTimeout((function(){board.setValue(["punto de conexion"]),window.setTimeout((function(){board.setValue(["hub"]),window.setTimeout((function(){board.setValue(["intercambiador"]),window.setTimeout((function(){board.setValue(["punto de conexion"]),window.setTimeout((function(){board.setValue(["hub"]),window.setTimeout((function(){board.setValue(["intercambiador"]),window.setTimeout((function(){board.setValue(["punto de conexion"]),window.setTimeout((function(){board.setValue(["hub"]),window.setTimeout((function(){board.setValue(["intercambiador"]),window.setTimeout((function(){board.setValue(["punto de conexion"]),window.setTimeout((function(){board.setValue(["hub"]),window.setTimeout((function(){board.setValue(["intercambiador"]),window.setTimeout((function(){board.setValue(["punto de conexion"])}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),4e3)};ScrollOut({onShown:function(t){board.setValue(["HUB"]),window.setTimeout((function(){board.setValue("intercambiador"),window.setTimeout((function(){board.setValue("punto de conexion"),window.setTimeout((function(){board.setValue(["HUB"]),window.setTimeout((function(){board.setValue(["intercambiador"]),window.setTimeout((function(){board.setValue(["punto de conexion"]),window.setTimeout((function(){board.setValue(["hub"]),window.setTimeout((function(){board.setValue(["intercambiador"]),window.setTimeout((function(){board.setValue(["punto de conexion"]),window.setTimeout((function(){board.setValue(["hub"]),window.setTimeout((function(){board.setValue(["intercambiador"]),window.setTimeout((function(){board.setValue(["punto de conexion"]),window.setTimeout((function(){board.setValue(["hub"]),window.setTimeout((function(){board.setValue(["intercambiador"]),window.setTimeout((function(){board.setValue(["punto de conexion"]),window.setTimeout((function(){board.setValue(["hub"]),window.setTimeout((function(){board.setValue(["intercambiador"]),window.setTimeout((function(){board.setValue(["punto de conexion"]),window.setTimeout((function(){board.setValue(["hub"]),window.setTimeout((function(){board.setValue(["intercambiador"]),window.setTimeout((function(){board.setValue(["punto de conexion"]),window.setTimeout((function(){board.setValue(["hub"]),window.setTimeout((function(){board.setValue(["intercambiador"]),window.setTimeout((function(){board.setValue(["punto de conexion"])}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),5e3)}),4e3)}});function start(){var e={container:document.getElementById("logo-anim"),renderer:"svg",loop:!1,autoplay:!0,rendererSettings:{progressiveLoad:!1,preserveAspectRatio:"xMidYMax slice"},path:"js/logo-anim2.json"};bodymovin.loadAnimation(e)}start();const canvas=document.getElementById("pong"),ctx=canvas.getContext("2d");let hit=new Audio,wall=new Audio,userScore=new Audio,comScore=new Audio;const ball={x:canvas.width/2,y:canvas.height/2,radius:15,velocityX:5,velocityY:5,speed:10,zIndex:10,color:"#FE9BB1"},user={x:0,y:(canvas.height-100)/2,width:10,height:100,score:0,color:"#FE9BB1"},com={x:canvas.width-10,y:(canvas.height-100)/2,width:10,height:100,score:0,color:"#FE9BB1"},net={x:(canvas.width-2)/2,y:0,height:10,width:2,color:"#FE9BB1"};function drawRect(e,t,o,l,a){ctx.fillStyle=a,ctx.fillRect(e,t,o,l)}function drawArc(e,t,o,l){ctx.fillStyle=l,ctx.beginPath(),ctx.arc(e,t,o,0,2*Math.PI,!0),ctx.closePath(),ctx.fill()}let theGame=document.getElementById("juego"),whereisMouse=theGame.addEventListener("mousemove",getMousePos);function getMousePos(e){let t=canvas.getBoundingClientRect();user.y=e.clientY-t.top-user.height/2}function resetBall(){ball.x=canvas.width/2,ball.y=canvas.height/2,ball.velocityX=-ball.velocityX,ball.speed=10}function drawNet(){for(let e=0;e<=canvas.height;e+=15)drawRect(net.x,net.y+e,net.width,net.height,net.color)}function drawText(e,t,o){ctx.fillStyle="#FE9BB1",ctx.font="65px helvetica",ctx.fillText(e,t,o)}function collision(e,t){return t.top=t.y,t.bottom=t.y+t.height,t.left=t.x,t.right=t.x+t.width,e.top=e.y-e.radius,e.bottom=e.y+e.radius,e.left=e.x-e.radius,e.right=e.x+e.radius,t.left<e.right&&t.top<e.bottom&&t.right>e.left&&t.bottom>e.top}function update(){ball.x-ball.radius<0?(com.score++,comScore.play(),resetBall()):ball.x+ball.radius>canvas.width&&(user.score++,userScore.play(),resetBall()),ball.x+=ball.velocityX,ball.y+=ball.velocityY,com.y+=.1*(ball.y-(com.y+com.height/2)),(ball.y-ball.radius<0||ball.y+ball.radius>canvas.height)&&(ball.velocityY=-ball.velocityY,wall.play());let e=ball.x+ball.radius<canvas.width/2?user:com;if(collision(ball,e)){hit.play();let t=ball.y-(e.y+e.height/2);t/=e.height/2;let o=Math.PI/4*t,l=ball.x+ball.radius<canvas.width/2?1:-1;ball.velocityX=l*ball.speed*Math.cos(o),ball.velocityY=ball.speed*Math.sin(o),ball.speed+=.1}}function render(){drawRect(0,0,canvas.width,canvas.height,"#181A18"),drawText(user.score,canvas.width/6,canvas.height/5),drawText(com.score,3*canvas.width/4,canvas.height/5),drawRect(user.x,user.y,user.width,user.height,user.color),drawRect(com.x,com.y,com.width,com.height,com.color),drawArc(ball.x,ball.y,ball.radius,ball.color)}function game(){update(),render()}let botonJugar=document.getElementById("bb-jugar"),botonJugarMobile=document.getElementById("bb-jugar-mobile"),botonParar=document.getElementById("bb-parar"),seccionLogo=document.getElementById("section-hero"),seccionJuego=document.getElementById("juego"),volveraJugar=document.createElement("button");botonJugar.onclick=function(){document.querySelector("body").classList.remove("not-ready");var e=setInterval(game,18);botonParar.onclick=function(){clearInterval(e),setTimeout((function(){seccionJuego.appendChild(volveraJugar),volveraJugar.innerHTML="volver a jugar",volveraJugar.classList.add("boton-volver")}),500)},seccionLogo.classList.add("fade-out"),setTimeout((function(){seccionLogo.style.display="none"}),500)},volveraJugar.onclick=function(){setInterval(game,18);seccionJuego.removeChild(volveraJugar)},botonJugarMobile.onclick=function(){document.querySelector("body").classList.remove("not-ready"),seccionLogo.classList.add("fade-out"),setTimeout((function(){seccionLogo.style.display="none"}),500)};const GAME_PIXEL_COUNT=40,SQUARE_OF_GAME_PIXEL_COUNT=Math.pow(40,2);let totalFoodAte=0,totalDistanceTravelled=0;const gameContainer=document.getElementById("gameContainer"),createGameBoardPixels=()=>{for(let e=1;e<=SQUARE_OF_GAME_PIXEL_COUNT;++e)gameContainer.innerHTML=`${gameContainer.innerHTML} <div class="gameBoardPixel" id="pixel${e}"></div>`},gameBoardPixels=document.getElementsByClassName("gameBoardPixel");let currentFoodPostion=0;const createFood=()=>{gameBoardPixels[currentFoodPostion].classList.remove("food"),currentFoodPostion=Math.random(),currentFoodPostion=Math.floor(currentFoodPostion*SQUARE_OF_GAME_PIXEL_COUNT),gameBoardPixels[currentFoodPostion].classList.add("food")},LEFT_DIR=37,UP_DIR=38,RIGHT_DIR=39,DOWN_DIR=40;let snakeCurrentDirection=39;const changeDirection=e=>{e!=snakeCurrentDirection&&(37==e&&39!=snakeCurrentDirection||38==e&&40!=snakeCurrentDirection||39==e&&37!=snakeCurrentDirection||40==e&&38!=snakeCurrentDirection)&&(snakeCurrentDirection=e)};let currentSnakeHeadPosition=SQUARE_OF_GAME_PIXEL_COUNT/2,snakeLength=1e3;const moveSnake=()=>{switch(snakeCurrentDirection){case 37:--currentSnakeHeadPosition;(currentSnakeHeadPosition%40==39||currentSnakeHeadPosition<0)&&(currentSnakeHeadPosition+=40);break;case 38:currentSnakeHeadPosition-=40;currentSnakeHeadPosition<0&&(currentSnakeHeadPosition+=SQUARE_OF_GAME_PIXEL_COUNT);break;case 39:++currentSnakeHeadPosition;currentSnakeHeadPosition%40==0&&(currentSnakeHeadPosition-=40);break;case 40:currentSnakeHeadPosition+=40;currentSnakeHeadPosition>SQUARE_OF_GAME_PIXEL_COUNT-1&&(currentSnakeHeadPosition-=SQUARE_OF_GAME_PIXEL_COUNT);break;default:break}let e=gameBoardPixels[currentSnakeHeadPosition];e.classList.contains("snakeBodyPixel")&&(clearInterval(moveSnakeInterval),alert(`Enhorabuena! Te has comido ${totalFoodAte} brothers.`)||(window.location.href="#section-bros")),e.classList.add("snakeBodyPixel"),setTimeout((()=>{e.classList.remove("snakeBodyPixel")}),snakeLength),totalDistanceTravelled++,document.getElementById("blocksTravelled").innerHTML=totalDistanceTravelled,currentSnakeHeadPosition==currentFoodPostion&&(totalFoodAte++,document.getElementById("pointsEarned").innerHTML=totalFoodAte,snakeLength+=100,createFood())};createGameBoardPixels(),createFood();var moveSnakeInterval=setInterval(moveSnake,80);addEventListener("keydown",(e=>changeDirection(e.keyCode)));const leftButton=document.getElementById("leftButton"),rightButton=document.getElementById("rightButton"),upButton=document.getElementById("upButton"),downButton=document.getElementById("downButton");leftButton.onclick=()=>changeDirection(37),rightButton.onclick=()=>changeDirection(39),upButton.onclick=()=>changeDirection(38),downButton.onclick=()=>changeDirection(40);